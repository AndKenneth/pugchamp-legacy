<script src="/socket.io/socket.io.js"></script>

<script>
    window.PugChampClientBehaviors = window.PugChampClientBehaviors || {};

    PugChampClientBehaviors.BaseBehavior = {
        created: function() {
            if (!window.socket) {
                window.socket = io('/', {
                    transports: ['websocket']
                });
            }

            this.socket = window.socket;
        },
        _listenToEvent: function(name, listener) {
            this.socket.on(name, this[listener].bind(this));
        }
    };
</script>
