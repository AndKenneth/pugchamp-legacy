<link rel="import" href="/elements/pugchamp-client/pugchamp-client-base-behavior.html">

<script src="/components/lodash/lodash.js"></script>

<script>
    RestrictionsBehaviorImpl = {
        created: function() {
            this._listenToEvent('restrictionsUpdated', '_onRestrictionsUpdated');
        },
        isRestricted: function(restrictions, ...aspects) {
            return _.size(_.union(aspects, restrictions.aspects)) > 0;
        },
        _onRestrictionsUpdated: function(restrictions) {
            this.set('restrictions', restrictions);
        }
    };

    PugChampClientBehaviors.RestrictionsBehavior = [PugChampClientBehaviors.BaseBehavior, RestrictionsBehaviorImpl];
</script>
